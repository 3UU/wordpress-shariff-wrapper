function shariff_share_counts(){"use strict";for(var e=document.getElementsByClassName("shariff"),t={},s=0;e[s];s++){var a=e[s].dataset.url,n=e[s].dataset.services,r=e[s].dataset.timestamp,f=e[s].dataset.backendurl;"undefined"==typeof f&&(f="/wp-json/shariff/v1/share_counts");var i=f+"?url="+a+"&services="+n+"&timestamp="+r;if("undefined"!=typeof n)if(t[a]){n=t[a][1]+"|"+n;var o=n.split("|");o=o.filter(function(e,t,s){return s.indexOf(e)==t}),n=o.join("|"),i=f+"?url="+a+"&services="+n+"&timestamp="+r,t[a]=[a,n,r,i]}else t[a]=[a,n,r,i]}for(var u in t)t.hasOwnProperty(u)&&shariff_get_share_counts(t[u][0],t[u][3],e)}function shariff_get_share_counts(e,t,s){var a=new XMLHttpRequest;a.open("GET",t,!0),a.onload=function(){a.status>=200&&a.status<400&&shariff_add_share_counts(e,JSON.parse(a.responseText),s)},a.send()}function shariff_add_share_counts(e,t,s){for(var a=0;s[a];a++)if(s[a].dataset.url==e){for(var n=s[a].getElementsByClassName("shariff-totalnumber"),r=0;n[r];r++)null!==t&&"undefined"!=typeof t.total&&(n[r].innerHTML=t.total);for(var f=s[a].getElementsByClassName("shariff-total"),i=0;f[i];i++)null!==t&&"undefined"!=typeof t.total&&(f[i].innerHTML=t.total);for(var o=s[a].getElementsByClassName("shariff-count"),u=0;o[u];u++)null!==t&&"undefined"!=typeof t[o[u].dataset.service]&&(o[u].innerHTML=t[o[u].dataset.service],o[u].style.opacity="1")}}document.addEventListener("DOMContentLoaded",shariff_share_counts,!1);